/* jQuery Leap Motion 0.3.2
 * Copyright (c) 2013 Takayuki Miyauchi
 * License: BSD-2-Clause
 */
!function(a){"use strict";a.extend({leapmotion:function(c){var d=!0,e={element:window,cursorSpeed:1.5},f=a.extend(e,c),g=new b({cursorSpeed:f.cursorSpeed});Leap.Frame.prototype.pointerOffset=function(){for(var a=[],b=0;b<this.pointables.length;b++){var c=this.pointables[b].tipPosition;a[a.length]=g.getOffset(this.interactionBox,c)}return a};var h=new Leap.Controller({enableGestures:!0});h.on("connect",function(){a(f.element).trigger("connect")}),h.on("deviceConnected",function(){a(f.element).trigger("deviceConnected")}),h.on("deviceDisconnected",function(){a(f.element).trigger("deviceDisconnected")}),h.on("focus",function(){a(f.element).trigger("focus")}),h.on("blur",function(){a(f.element).trigger("blur")}),h.on("animationFrame",function(b){d===!0&&(b.pointables.length?a(f.element).trigger("pointables",b):a(f.element).trigger("pointablesout",b),b.hands.length?a(f.element).trigger("hands",b):a(f.element).trigger("handsout",b),b.fingers.length?a(f.element).trigger("fingers",b):a(f.element).trigger("fingersout",b),b.tools.length?a(f.element).trigger("tools",b):a(f.element).trigger("toolsout",b),b.gestures.length>0&&(a(f.element).trigger("gesture",b),b.gestures.forEach(function(b){a(f.element).trigger(b.type,b),a(f.element).trigger(b.type+b.state,b)})))}),h.connect(),a(f.element).bind("focus",function(){d=!0}),a(f.element).bind("blur",function(){d=!1}),a(f.element).bind("circle",function(b,c){c.normal[2]<0?a(f.element).trigger("circleright",c):a(f.element).trigger("circleleft",c)}),a(f.element).bind("swipe",function(b,c){var d=c.direction;Math.abs(d[0])>Math.abs(d[1])?d[0]>0?a(f.element).trigger("swiperight",c):a(f.element).trigger("swipeleft",c):Math.abs(d[0])<Math.abs(d[1])&&(d[1]>0?a(f.element).trigger("swipetop",c):a(f.element).trigger("swipebottom",c))})}});var b=function(b){var c={cursorSpeed:1.5};this.options=a.extend(c,b)};b.prototype.getOffset=function(b,c){var d=b.center[1],e=c[0],f=c[1];c[2];var g=a(window).width(),h=a(window).height(),i=0;i=g>h?g/(2*d)*this.options.cursorSpeed:h/(2*d)*this.options.cursorSpeed;var j=g/2+2*i*e,k=h/2+(d-f)*i;return{top:k,left:j}}}(jQuery);